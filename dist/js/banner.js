"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var BannerManager=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:700,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:350,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:document.body;_classCallCheck(this,n),this.width=e,this.height=i,this.root=s,this.data=t,this.slider=null,this.sliderBox=null,this.sliderControl=null,this.sliderNav=null,this.index=0,this.lastItem=null,this.len=this.data.length,this.sliderWidth=null,this.timer=null}return _createClass(n,[{key:"init",value:function(){this.createHTML(),this.autoPlayer(),this.addClickEventHandler(),this.addClickEventHandlerWithSliderNavItem(),this.addMouseEvent()}},{key:"createHTML",value:function(){var i=this,t=this.data.map(function(t,e){return' <li class="slider-box-item" style="width:'.concat(i.width,'px"> <img src=').concat(t," ></li>")}).join(""),e=this.data.map(function(t,e){return'<li class="slider-nav-item">'.concat(e+1,"</li>")}).join(""),s='<div class="slider" style="width:'.concat(this.width,"px;height:").concat(this.height,'px">\n                        <ul class="slider-box" style="left:0;width:').concat(this.len*this.width,'px">\n                            ').concat(t,'\n                        </ul>\n                        <div class="slider-control">\n                            <span class="prev">&lt;</span> \n                            <span class="next">&gt;</span>\n                        </div>\n                        <ol class="slider-nav">\n                            ').concat(e,"\n                        </ol>\n                    </div>");this.root.innerHTML=s,this.slider=this.root.querySelector(".slider"),this.sliderBox=this.root.querySelector(".slider-box"),this.sliderControl=this.root.querySelector(".slider-control"),this.sliderNav=this.root.querySelector(".slider-nav"),this.sliderWidth=this.width,this.switchNavItem()}},{key:"autoPlayer",value:function(){var t=this;this.timer=setInterval(function(){t.next()},2e3)}},{key:"addClickEventHandler",value:function(){var e=this;this.sliderControl.onclick=function(t){"prev"==t.target.className?e.prev():"next"==t.target.className&&e.next()}}},{key:"prev",value:function(){this.index--,this.index<0&&(this.index=this.len-1),this.switchNavItem(),this.sliderBox.style.left=-this.index*this.sliderWidth+"px"}},{key:"next",value:function(){this.index++,this.index>this.len-1&&(this.index=0),this.switchNavItem(),this.sliderBox.style.left=-this.index*this.sliderWidth+"px"}},{key:"addClickEventHandlerWithSliderNavItem",value:function(){var e=this;this.sliderNav.onclick=function(t){"slider-nav-item"==t.target.className&&(e.index=t.target.innerText-1,e.switchNavItem(),e.sliderBox.style.left=-e.index*e.sliderWidth+"px")}}},{key:"switchNavItem",value:function(){this.lastItem&&(this.lastItem.className="slider-nav-item"),this.sliderNav.children[this.index].className="slider-nav-item active",this.lastItem=this.sliderNav.children[this.index]}},{key:"addMouseEvent",value:function(){var t=this;this.slider.onmouseenter=function(){clearInterval(t.timer)},this.slider.onmouseleave=function(){t.autoPlayer()}}}]),n}();