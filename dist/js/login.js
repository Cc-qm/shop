"use strict";$(function(){$(".go-register").click(function(e){(e=e||window.event).preventDefault(),$(".load-panel").hide().next().show()}),$(".go-load").click(function(e){(e=e||window.event).preventDefault(),$(".register-panel").hide().prev().show()}),$(".login").validate({rules:{username:"required",password:"required"},messages:{username:"请输入您的账号",password:"请输入您的密码"},submitHandler:function(e){$.ajax({type:"post",url:"/login",data:$(e).serialize(),dataType:"json",success:function(e){console.log(e),"success"==e.status?alert("登录成功！"):alert("账号或密码错误，请重新填写或者去注册！")}})}}),jQuery.validator.addMethod("isMobile",function(e,s){var a=e.length;return this.optional(s)||11==a&&/^(13[0-9]{9})|(18[0-9]{9})|(14[0-9]{9})|(17[0-9]{9})|(15[0-9]{9})$/.test(e)},"请正确填写手机号码"),$(".register").validate({rules:{ID:"required",name:"required",password:{required:!0,rangelength:[8,16]},password2:{equalTo:"#password"},phone:"isMobile",email:"email"},messages:{ID:"该项为必填项！",name:"该项为必填项！",password:{required:"该项为必填项！"},password2:"两次输入的密码不一致！"},submitHandler:function(e){$.ajax({type:"post",url:"/register",data:$(e).serialize(),dataType:"json",success:function(e){e.status?(alert("注册成功，请登录！"),$(".register-panel").hide().prev().show()):alert("该ID已存在，请更改ID，重新注册！")}})}})});