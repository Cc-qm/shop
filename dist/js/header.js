"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,a){return n&&_defineProperties(e.prototype,n),a&&_defineProperties(e,a),e}window.onload=function(){$.ajax({type:"post",url:"/ifloaded",dataType:"json",success:function(e){e.loaded&&($(".load>li:eq(0)").html("<a >你好，".concat(decodeURI(Cookie.get("name")),"</a>")),$(".load>li:eq(1)").html('<a href="./login.html">注销</a>'),$(".load>li:eq(1)>a").click(function(){$.ajax({type:"post",url:"/cancel",dataType:"json",success:function(e){console.log(e)}}),alert("已注销该账户，请重新登录！")}))}});var n=function(){function n(e){_classCallCheck(this,n),this.data=e}return _createClass(n,[{key:"init",value:function(){this.createElements(),this.onMouse2BannerNav(),this.onMouse2NAvDetail(),this.onMouse2Shop()}},{key:"createElements",value:function(){this.createNav(),this.createBannerNav(),this.createNAvDetail()}},{key:"createNav",value:function(){$(".header-nav>ul").eq(0).html(this.data.map(function(e){return' <li><a href="#">'.concat(e.title,"</a></li>")}))}},{key:"createBannerNav",value:function(){var e=this.data[0].detail.map(function(e){var n=Math.ceil(e.product.length/6),a=e.product.map(function(e){return'<a href="#">\n                        <img src='.concat(e.img," />\n                        <span>").concat(e.name,"</span>\n                    </a>")}).join("");return'<li>\n                    <a href="#">'.concat(e.type,'<i class="iconfont icon-jiantou"></i></a>\n                    <div class="detail" style="width:').concat(248*n,'px">\n                        ').concat(a,"\n                    </div>\n                </li>")});$(".header-nav>ul>li:eq(0)").append($("<ul class='banner-nav'></ul>").html(e))}},{key:"onMouse2BannerNav",value:function(){$(".banner-nav>li").hover(function(){$(this).children(".detail").css("display","flex")},function(){$(this).children(".detail").css("display","none")})}},{key:"createNAvDetail",value:function(){this.data.shift();var e=this.data.map(function(e){if(e.product){var n=e.product.map(function(e){return'<li>\n                        <a href="#">\n                            <img src='.concat(e.img,">\n                            <p>").concat(e.name,'</p>\n                            <p class="price">').concat(e.price,"</p>\n                        </a>\n                    </li>")}).join("");return'<ul class="con">\n                                '.concat(n,"\n                            </ul>")}});$(".nav-detail").html(e)}},{key:"onMouse2NAvDetail",value:function(){var e=this;$(".header-nav>ul>li").hover(function(){e.index=$(this).index()-1,$(this).index()<8&&0<$(this).index()&&($(".nav-detail ul").eq($(this).index()-1).toggle(),$(".nav-detail").stop().slideToggle(300))}),$(".nav-detail").hover(function(){e.index<7&&-1<e.index&&($(".nav-detail ul").eq(e.index).toggle(),$(this).stop().slideToggle(300))})}},{key:"onMouse2Shop",value:function(){$(".load div").hover(function(){$(this).children("p").css("color","#000"),$(this).children("p").stop().slideToggle()})}}]),n}(),a=function(){function n(e){_classCallCheck(this,n),this.data=e}return _createClass(n,[{key:"init",value:function(){this.createElements()}},{key:"createElements",value:function(){var e=this.data.map(function(e){return"<li>".concat(e,"</li>")});$(".search-box").html(e)}}]),n}();$.ajax({type:"get",async:!1,url:"../lib/data/data.json",dataType:"json",success:function(e){new n(e).init()}}),$.ajax({async:!1,type:"get",url:"../lib/data/data2.json",dataType:"json",success:function(e){new a(e).init()}})};