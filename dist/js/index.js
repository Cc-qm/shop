"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}$(function(){$("#header").load("../pages/header.html"),$.ajax({type:"get",url:"../lib/data/data1.json",dataType:"json",success:function(n){new BannerManager(n,1226,460,document.querySelector(".banner")).init()}});var t=function(){function t(n){_classCallCheck(this,t),this.data=n,this.index=0,this.len=n.length}return _createClass(t,[{key:"init",value:function(){this.createElements(),this.onEvent2Element()}},{key:"createElements",value:function(){var t=this,n=this.data.map(function(n){return' <li style="border-top-color:rgb('.concat(t.randomNum(),",").concat(t.randomNum(),",").concat(t.randomNum(),')">\n                        <img src=').concat(n.img," >\n                        <h3>").concat(n.name,"</h3>\n                        <p>").concat(n.detail,'</p>\n                        <p class="price2">\n                            ').concat(n.price,"\n                        </p>\n                    </li>")}).join("");$(".banner2 ul").html(n)}},{key:"randomNum",value:function(){return Math.round(255*Math.random())}},{key:"onEvent2Element",value:function(){$(".banner2 ul").css("width",248*this.data.length-14+"px"),this.autoPlayer(),this.addClickEvent2Button(),this.addMouseEvent()}},{key:"autoPlayer",value:function(){var n=this;this.timer=setInterval(function(){n.next()},2e3)}},{key:"addClickEvent2Button",value:function(){var t=this;$(".control").click(function(n){"1"==$(n.target).data("num")?t.prev():"2"==$(n.target).data("num")&&t.next()})}},{key:"next",value:function(){this.index+=4,this.index>this.len-4&&this.index<this.len?this.index=this.len-4:this.index==this.len&&(this.index=0),$(".banner2 ul").css("left",248*-this.index+"px")}},{key:"prev",value:function(){this.index-=4,this.index<0&&-4<this.index?this.index=0:-4==this.index&&(this.index=this.len-4),$(".banner2 ul").css("left",248*-this.index+"px")}},{key:"addMouseEvent",value:function(){var n=this;$(".banner2 ul").hover(function(){return clearInterval(n.timer)},function(){return n.autoPlayer()}),$(".control").hover(function(){return clearInterval(n.timer)},function(){return n.autoPlayer()})}}]),t}(),e=function(){function t(n){_classCallCheck(this,t),this.data=n}return _createClass(t,[{key:"init",value:function(){this.createElements(),this.onMouseEvent2TabElement()}},{key:"createElements",value:function(){var c=this,n=$("<div class='list con'></div>"),t=this.data.more.map(function(n,t){return 0==t?'<li><a href="#" id="select">'.concat(n,"</a></li>"):'<li><a href="#">'.concat(n,"</a></li>")}).join("");0==this.data.more.length&&(t='<li id="more">查看全部</li>');var e=this.data.ad.map(function(n){return 1==c.data.ad.length?"<img src=".concat(n,' style="height:614px">'):"<img src=".concat(n,">")}).join(""),i=this.data.product.map(function(n,t){var e=n.length,i=t,a=n.map(function(n,t){return t==e-1&&null==n.name?" <li id='last-li'>\n                                浏览更多\n                                <small>".concat(c.data.more[i],"</small>\n                            </li>"):7==t&&9==e?"<li id='last-li-pro'>\n                        <img src=".concat(n.img," id='small-img'>\n                        <h3>").concat(n.name,'</h3>\n                        <p></p>\n                        <p class="price2">').concat(n.price,"</p>\n                        </li>"):"<li>\n                    <img src=".concat(n.img,">\n                    <h3>").concat(n.name,"</h3>\n                    <p>").concat(n.detail,'</p>\n                    <p class="price2">').concat(n.price,"</p>\n                    </li>")}).join("");return 0==t?'<ul id="active">\n                        '.concat(a,"\n                    </ul>"):"<ul>\n                ".concat(a,"\n            </ul>")}).join(""),a='<div class="list-header">\n                    <h2 class="title">'.concat(this.data.title,"</h2>\n                    <ul>\n                    ").concat(t,'\n                    </ul>\n                </div>\n                <div class="list-content">\n                    <div class="content-left">\n                    ').concat(e,'\n                    </div>\n                    <div class="content-right">\n                    ').concat(i,"\n                    </div>\n                </div>");n.html(a),$("#list").append(n)}},{key:"onMouseEvent2TabElement",value:function(){$(".list-header ul li").each(function(n,t){$(t).mouseenter(function(){$(this).children().attr("id","select"),$(this).siblings().children().attr("id",""),$(".content-right ul").eq(n).attr("id","active"),$(".content-right ul").eq(n).siblings().attr("id","")})})}}]),t}(),n=function(){function t(n){_classCallCheck(this,t),this.data=n}return _createClass(t,[{key:"init",value:function(){this.createElements()}},{key:"createElements",value:function(){var n=$("<div class='new con'>"),t='<a href="#">\n                        <img src='.concat(this.data,"></a>");n.html(t),$("#list").append(n)}}]),t}();$.ajax({type:"get",url:"../lib/data/data3.json",dataType:"json",success:function(n){new t(n).init()}});var i=["//cdn.cnbj1.fds.api.mi-img.com/mi-mall/11fc2ced4d8b5a924633f9a5b59f9fd2.jpg?w=2452&h=240","//cdn.cnbj1.fds.api.mi-img.com/mi-mall/41d16e66381cfeda7b6b39ab67678d5e.jpg?w=2452&h=240","//cdn.cnbj1.fds.api.mi-img.com/mi-mall/e48a0ce5d87d3648beee6d7a8b813f24.jpg?w=2452&h=240","//cdn.cnbj1.fds.api.mi-img.com/mi-mall/4d739d7a2c017a287a689c9702ec3b20.jpg?w=2452&h=240","//cdn.cnbj1.fds.api.mi-img.com/mi-mall/89c2a209b742fce9b10d9d196149d634.jpg?w=2452&h=240","//cdn.cnbj1.fds.api.mi-img.com/mi-mall/10fb0086cb21120c53248a3d8cc56dc5.jpg?w=2452&h=240","//cdn.cnbj1.fds.api.mi-img.com/mi-mall/88e35cffc82cd98cd53172460067af17.jpg?w=2452&h=240"];new n(i[0]).init(),$.ajax({type:"get",async:!1,url:"../lib/data/selectdata1.json",dataType:"json",success:function(n){new e(n).init()}}),new n(i[1]).init(),$.ajax({type:"get",async:!1,url:"../lib/data/selectdata2.json",dataType:"json",success:function(n){new e(n).init()}}),new n(i[2]).init(),$.ajax({type:"get",async:!1,url:"../lib/data/selectdata3.json",dataType:"json",success:function(n){new e(n).init()}}),new n(i[3]).init(),$.ajax({type:"get",async:!1,url:"../lib/data/selectdata4.json",dataType:"json",success:function(n){new e(n).init()}}),new n(i[4]).init(),$.ajax({type:"get",async:!1,url:"../lib/data/selectdata5.json",dataType:"json",success:function(n){new e(n).init()}}),new n(i[5]).init(),$.ajax({type:"get",async:!1,url:"../lib/data/selectdata6.json",dataType:"json",success:function(n){new e(n).init()}}),new n(i[6]).init(),$(".banner2>ul").on("click","li",function(){var n={};n.name=$(this).children("h3").text(),n.src=$(this).children("img")[0].src,n.detail=$(this).children("p")[0].innerText,n.price=$(this).children("p.price2").html(),localStorage.setItem("item_info",JSON.stringify(n)),location.href="../pages/detail.html"}),$(".content-right>ul").on("click","li",function(){var n={};$(this).children("img").length&&(n.name=$(this).children("h3").text(),n.src=$(this).children("img")[0].src,n.detail=$(this).children("p")[0].innerText,n.price=$(this).children("p.price2").html(),localStorage.setItem("item_info",JSON.stringify(n)),location.href="../pages/detail.html")})});